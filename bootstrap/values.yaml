nameOverride: ""
fullnameOverride: ""

global:
  domain: "gympal.com" # Global domain for the GymPal applications
  storageClass: standard # Default storage class for persistent volumes. Th

# Habilitation for each component's (subchart) deployment
argo-cd:
  enabled: true # Enable Argo CD installation

ingress:
  enabled: true # Enable ingress for Argo CD

# Backend application configuration
gympalBackend:
  enabled: true
  namespace: gympal
  syncWave: 3 # Backend app depend on namespaces from base
  source:
    repoURL: https://github.com/smyha/PTI-GymPalBack.git
    targetRevision: HEAD
    path: charts/backend

# Frontend application configuration
gympalFrontend:
  enabled: true
  namespace: gympal
  syncWave: 4 # Frontend app depends on backend
  source:
    repoURL: https://github.com/Arnaugg9/Gympalfrontend.git
    targetRevision: HEAD
    path: charts/frontend

# Cert manager for TLS certificate management
cert-manager:
  enabled: true # Enable deployment of cert-manager

spec: 
  destination:
    server: https://kubernetes.default.svc # Target cluster API server
  source:
    repoURL: https://github.com/alexlafuente/GymPalDevOps.git # Git repository URL containing bootstrap manifests
    targetRevision: HEAD # Branch, tag, or commit to sync from
  syncPolicy:
    automated:
      prune: true # Delete resources that are no longer defined in Git
      selfHeal: true # Automatically sync if the live state deviates from Git
  project: default

  ingress:
    enabled: true
    namespace: ingress-nginx
    chart: ingress-nginx
    repoURL: https://kubernetes.github.io/ingress-nginx
    syncWave: 0 # ingress classes and CRDs must exist before anything referencing them
    targetRevision: "4.14.0" # Specific version of ingress-nginx chart to use
  
  cert-manager:
    enabled: true # Enable deployment of cert-manager
    namespace: cert-manager
    chart: cert-manager
    repoURL: https://charts.jetstack.io
    syncWave: 1 # cert-manager CRDs must exist before ClusterIssuer
    targetRevision: "v1.19.1"

# Base manifests ArgoCD Application configuration, such as ClusterIssuer, Namespaces, etc.
baseManifests:
  enabled: true
  syncWave: 2 # Ensure base manifests are applied after ingress controller. Suceptible to change based on dependencies.
